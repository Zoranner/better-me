<template>
  <div class="h-full flex flex-col bg-base-100">
    <ContentHeader :title="item?.title || ''">
      <template #actions>
        <div 
          class="badge badge-lg"
          :class="{
            'badge-success': item?.status === 'online',
            'badge-error': item?.status === 'offline'
          }"
        >
          {{ item?.status === 'online' ? 'åœ¨çº¿' : 'ç¦»çº¿' }}
        </div>
      </template>
    </ContentHeader>

    <div class="flex-1 p-6 overflow-y-auto">
      <div class="mb-8">
        <div class="flex gap-4 items-center mb-4">
          <div class="w-12 h-12 flex items-center justify-center text-2xl bg-base-100 rounded-xl border">
            ğŸ¤–
          </div>
          <p class="text-base-content/70 m-0">{{ item?.description }}</p>
        </div>
      </div>

      <div class="mb-8">
        <h3 class="text-base font-medium mb-4">åŠŸèƒ½ä»‹ç»</h3>
        <p class="text-base-content/70 leading-relaxed">è¿™æ˜¯ä¸€ä¸ªæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥å¸®åŠ©ä½ å®Œæˆç‰¹å®šé¢†åŸŸçš„ä»»åŠ¡ã€‚</p>
      </div>

      <div class="mb-8">
        <h3 class="text-base font-medium mb-4">ä½¿ç”¨è¯´æ˜</h3>
        <ul class="pl-5 text-base-content/70 leading-relaxed">
          <li class="mb-2">ç›´æ¥è¾“å…¥ä½ çš„é—®é¢˜æˆ–éœ€æ±‚</li>
          <li class="mb-2">æ”¯æŒå¤šè½®å¯¹è¯</li>
          <li class="mb-2">å¯ä»¥ä¸Šä¼ ç›¸å…³æ–‡ä»¶</li>
        </ul>
      </div>

      <div>
        <h3 class="text-base font-medium mb-4">ç¤ºä¾‹</h3>
        <div class="space-y-3">
          <div class="p-3 bg-base-200 border rounded-lg cursor-pointer hover:bg-base-300 transition-all">
            "å¸®æˆ‘ä¼˜åŒ–è¿™æ®µä»£ç çš„æ€§èƒ½"
          </div>
          <div class="p-3 bg-base-200 border rounded-lg cursor-pointer hover:bg-base-300 transition-all">
            "åˆ†æè¿™ç¯‡æ–‡ç« çš„ä¸»è¦è§‚ç‚¹"
          </div>
          <div class="p-3 bg-base-200 border rounded-lg cursor-pointer hover:bg-base-300 transition-all">
            "ç»™è¿™æ®µæ–‡å­—æä¾›ä¿®æ”¹å»ºè®®"
          </div>
        </div>
      </div>
    </div>

    <div class="p-5 border-t bg-base-200">
      <textarea 
        class="textarea textarea-bordered w-full h-32 mb-3"
        placeholder="è¾“å…¥ä½ çš„éœ€æ±‚..."
        v-model="message"
        @keydown.enter.prevent="sendMessage"
      ></textarea>
      <div class="flex justify-end gap-3">
        <button class="btn btn-ghost">ğŸ“</button>
        <button class="btn btn-primary">å‘é€</button>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue'
import type { AgentItem } from '../../types/menu'
import ContentHeader from '../shared/ContentHeader.vue'

defineProps<{
  item?: AgentItem
}>()

const message = ref('')

const sendMessage = (e: KeyboardEvent) => {
  if (e.shiftKey) {
    return
  }
  if (message.value.trim()) {
    // TODO: å‘é€æ¶ˆæ¯
    message.value = ''
  }
}
</script> 